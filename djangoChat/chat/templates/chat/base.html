<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, intital-scale=1">
        <title>{% block title %}{% endblock %}DjangoChatApp</title>
        <style>
            .chat-messages{
            height: 400px;
            overflow-y: auto;
            }
        </style>
    </head>

    <body >
        <nav>
            <div>
                <a href="/">
                    DjangoChatApp
                </a>
            </div>

            <div>
                {% if request.user.is_authenticated %}
                    <h1>Logged in as: {{request.user.username}}</h1>
                    <div>
                        <a href="/chat/online-users/">
                            Online users
                        </a>
                    </div>
                    <div>
                        <a href="/chat/rooms/">
                            Rooms
                        </a>
                    </div>
                    <div>
                        <a href="/logout">
                            Log out
                        </a>
                    </div>
                    
                    <div>
                        <input type="number" name="user_id" id="user_id_input">
                        <a href="#" id="suggest_friends_link" onclick="suggestFriends()">
                            Suggest Friends
                        </a>
                    </div>
                {% else %}
                    <div>
                    <a href="/login">
                        Log In
                    </a>
                    </div>
                    <div>
                        <a href="/signup">
                            Sign Up
                        </a>
                    </div>
                {% endif %}
            </div>
        </nav>

        {% block content %}
        {% endblock %}

        {% block scripts %}
        <script>
            function suggestFriends() {
                const user_id = document.getElementById("user_id_input").value;
                const suggestLink = document.getElementById("suggest_friends_link");
                suggestLink.href = `/friends/suggest/${user_id}`;
            }
        </script>
        
        {% endblock %}
    </body>
</html>
